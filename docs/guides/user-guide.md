# Руководство пользователей «Союзлифт Аудит» (архитектура 3.0)

Документ описывает ключевые сценарии для администратора и аудитора в обновлённой версии «Союзлифт Аудит». Материал дополняет архитектурные положения [§2](../architecture/v3.md#2-%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B2%D1%8B%D0%B5-%D0%B4%D0%BE%D0%BF%D1%83%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B8-%D0%BE%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D1%8F), [§3](../architecture/v3.md#3-%D1%80%D0%BE%D0%BB%D0%B8-%D0%B8-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D1%8C) и целевые пользовательские сценарии [§4](../architecture/v3.md#4-%D1%86%D0%B5%D0%BB%D0%B5%D0%B2%D1%8B%D0%B5-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5-%D1%81%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B8). Вся работа выполняется онлайн: офлайн-режим, очереди синхронизации и расширенные статусы аудитов удалены.

> **Важно.** Интерфейс оптимизирован под современные браузеры на ноутбуках и планшетах. Для стабильной работы требуется доступ в интернет и включённый JavaScript.

## 1. Доступ и роли

- Учётные записи создаёт технический администратор через Django Admin, назначая роль `administrator` или `auditor`.
- После авторизации пользователь попадает в единый интерфейс с разделами «Здания», «Лифты», «Чек-листы» и «Аудиты» (см. [§7](../architecture/v3.md#7-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8-%D0%BD%D0%B0%D0%B2%D0%B8%D0%B3%D0%B0%D1%86%D0%B8%D1%8F)).
- Доступные действия фильтруются на стороне сервера: администратор управляет справочниками и назначает аудиты, аудитор отвечает за заполнение и отправку проверок.
- При потере сессии выполните повторный вход; черновики сохраняются в базе и доступны после обновления страницы.

## 2. Работа аудитора

### 2.1. Получение и подготовка заданий

1. Перейдите в раздел «Аудиты». Вкладка «Назначено мне» содержит проверки, созданные администратором; вкладка «Свободные задания» доступна, если аудит разрешено взять из пула.
2. Откройте карточку аудита, чтобы изучить объект, дедлайн и чек-лист (структура формируется из `ChecklistTemplate`, см. [§5](../architecture/v3.md#5-%D0%B4%D0%BE%D0%BC%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C)).
3. При необходимости запросите уточнения у администратора через комментарий к аудиту.

### 2.2. Заполнение чек-листа

1. Нажмите «Редактировать» в карточке аудита. Ответы на `ChecklistItem` отображаются в порядке зон и категорий.
2. Внесите числовой балл или выберите опцию из шкалы. Если пункт помечен как требующий комментарий при неполном балле, поле «Комментарий» станет обязательным.
3. Прикрепляйте файлы через кнопку «Добавить вложение». Допустимы изображения и PDF до лимита, заданного администратором.
4. Сохраняйте прогресс с помощью кнопки «Сохранить черновик». Статус аудита остаётся `draft`, итоговый балл пересчитывается автоматически (см. [§8.1](../architecture/v3.md#8-%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F-%D1%80%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F)).

### 2.3. Отправка отчёта

1. После заполнения всех пунктов нажмите «Отправить». Система проверит наличие обязательных комментариев и вложений.
2. При успешной проверке статус меняется на `submitted`, ответы становятся доступны только для чтения.
3. Если администратор вернул аудит на доработку, карточка снова появится в списке `draft` с комментариями. Внесите изменения и повторно отправьте.

### 2.4. Чек-лист аудитора перед выходом на объект

- [ ] Проверены назначенные аудиты и дедлайны.
- [ ] На вкладке «Свободные задания» забронированы дополнительные проверки (при необходимости).
- [ ] Запрошены отсутствующие справочные данные у администратора.
- [ ] Подготовлены материалы для фотофиксации и подключения к сети на объекте.
- [ ] После возвращения в офис подтверждена отправка всех аудитов в статусе `submitted`.

## 3. Работа администратора

### 3.1. Ведение справочников

1. Раздел «Здания» содержит таблицу с поиском и фильтрами. Используйте кнопки «Создать» и «Редактировать» для управления `Building` (см. [§4.1](../architecture/v3.md#4-%D1%86%D0%B5%D0%BB%D0%B5%D0%B2%D1%8B%D0%B5-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5-%D1%81%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B8)).
2. В разделе «Лифты» поддерживайте связь с зданиями и статус эксплуатации. Ошибки импорта отображаются в журнале с возможностью повторной загрузки.

### 3.2. Управление чек-листами

1. Раздел «Чек-листы» показывает опубликованные `ChecklistTemplate`. Создайте новый шаблон вручную или импортируйте CSV/XLSX.
2. Для каждого `ChecklistItem` задайте зону, категорию, шкалу оценок и флаг обязательного комментария.
3. Используйте предпросмотр, чтобы проверить порядок вопросов перед публикацией (см. [§7](../architecture/v3.md#7-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8-%D0%BD%D0%B0%D0%B2%D0%B8%D0%B3%D0%B0%D1%86%D0%B8%D1%8F)).

### 3.3. Назначение и контроль аудитов

1. На вкладке «Аудиты» нажмите «Назначить аудит», выберите объект, чек-лист, аудитора и дедлайн. Новый аудит создаётся в статусе `draft`.
2. Для пуловых заданий оставьте поле «Исполнитель» пустым — аудит появится во вкладке «Свободные задания» у всех аудиторов.
3. Просматривайте отправленные аудиты в статусе `submitted`: карточка содержит итоговый балл, вложения и ответы на все пункты.
4. Для возврата нажмите «Вернуть в черновик», добавьте комментарий. Аудитор увидит причину и сможет доработать аудит.
5. Используйте экспорт CSV/XLSX для отчётности или выгрузите отдельный аудит в PDF.

### 3.4. Чек-лист администратора перед отчётной неделей

- [ ] Актуализированы справочники зданий и лифтов.
- [ ] Проверены и опубликованы изменения чек-листов.
- [ ] Назначены аудиты согласно плану проверок или открыт пул свободных задач.
- [ ] Рассмотрены все аудиты в статусе `submitted`; по каждому есть комментарий или решение.
- [ ] Обновлён журнал импорта с устранёнными ошибками.

## 4. Коммуникации и поддержка

- Для сброса паролей и создания новых учётных записей обращайтесь к техническому администратору (суперпользователю Django).
- Обратную связь по работе системы фиксируйте в общем канале поддержки пилота или через форму, указанную в плане запуска (см. [docs/reports/pilot-launch-plan-t5-3.md](../reports/pilot-launch-plan-t5-3.md)).
- При обнаружении ошибок интерфейса приложите ссылку на страницу и шаги воспроизведения. Команда разработки использует эти данные для регрессии (см. [§11](../architecture/v3.md#11-%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D1%8D%D0%BA%D1%81%D0%BF%D0%BB%D1%83%D0%B0%D1%82%D0%B0%D1%86%D0%B8%D1%8F)).

Документ актуализируется при изменении пользовательских сценариев или регламентов пилота.
