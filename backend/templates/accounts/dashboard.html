{% extends "base.html" %}
{% block title %}Личный кабинет · Союзлифт Аудит{% endblock %}
{% block header_links %}
  <a href="{% url 'accounts:password-change' %}" class="text-slate-200 hover:text-white">Сменить пароль</a>
  <a href="{% url 'accounts:logout' %}" class="text-slate-200 hover:text-white">Выйти</a>
{% endblock %}
{% block heading %}Личный кабинет{% endblock %}
{% block subheading %}
  {% if profile %}
    <p class="text-sm text-slate-500">Добро пожаловать, {{ profile.full_name|default:request.user.username }}.</p>
  {% else %}
    <p class="text-sm text-slate-500">Добро пожаловать в систему Союзлифт Аудит.</p>
  {% endif %}
{% endblock %}
{% block content %}
  <div class="space-y-6 text-sm text-slate-700">
    <p>В дальнейших итерациях здесь появятся списки аудитов и уведомления.</p>
    <dl class="grid gap-4 sm:grid-cols-2">
      <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
        <dt class="text-xs uppercase tracking-wide text-slate-500">Роль</dt>
        <dd class="text-base font-semibold text-slate-900">
          {% if profile %}
            {% if profile.is_admin %}Администратор{% elif profile.is_auditor %}Аудитор{% else %}Пользователь{% endif %}
          {% else %}
            Пользователь
          {% endif %}
        </dd>
      </div>
      <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
        <dt class="text-xs uppercase tracking-wide text-slate-500">Последняя смена пароля</dt>
        <dd class="text-base font-semibold text-slate-900">
          {% if profile and profile.password_changed_at %}
            {{ profile.password_changed_at|date:"d.m.Y H:i" }}
          {% else %}
            Не задано
          {% endif %}
        </dd>
      </div>
    </dl>
    <div class="grid gap-4 sm:grid-cols-2">
      <a
        href="{% url 'catalog:building-list' %}"
        class="flex flex-col gap-2 rounded-lg border border-sky-200 bg-sky-50 p-4 text-slate-800 shadow-sm transition hover:-translate-y-0.5 hover:bg-sky-100"
      >
        <span class="text-xs font-semibold uppercase tracking-wide text-sky-700">Справочники</span>
        <span class="text-lg font-semibold">Здания</span>
        <span class="text-xs text-slate-600">Добавляйте новые адреса и следите за статусом модерации.</span>
      </a>
      <a
        href="{% url 'catalog:elevator-list' %}"
        class="flex flex-col gap-2 rounded-lg border border-emerald-200 bg-emerald-50 p-4 text-slate-800 shadow-sm transition hover:-translate-y-0.5 hover:bg-emerald-100"
      >
        <span class="text-xs font-semibold uppercase tracking-wide text-emerald-700">Справочники</span>
        <span class="text-lg font-semibold">Лифты</span>
        <span class="text-xs text-slate-600">Ведите учёт лифтов, их статуса и описания.</span>
      </a>
    </div>
  </div>
{% endblock %}
