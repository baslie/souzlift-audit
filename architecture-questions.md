# Вопросы по архитектурному описанию

1. **Офлайн-доступ к справочникам.** Если аудиторы могут создавать новую проверку полностью офлайн, как им выбрать лифт и адрес из справочников? Нужно ли при первом входе (или по требованию) выгружать на устройство актуальный список зданий и лифтов, чтобы новая проверка могла быть создана без сети?

**Ответ:** Да, при первом входе следует выгружать на устройство актуальный список зданий и лифтов. Логика работы должна быть следующей: если аудитор находится в сети и создает новую проверку (например, на улице перед входом в подъезд), то в этот момент информация подгружается в актуальном виде. Если же сети нет, то используется информация, которая была загружена при аутентификации пользователя.

2. **Ограничения на вложения.** Помимо лимита в 10 фотографий на вопрос, стоит ли вводить ограничения по размеру файла или суммарному объёму вложений в рамках одного аудита, чтобы контролировать место на хостинге и время синхронизации?

**Ответ:** Необходимо ввести ограничение в 100 фотографий на весь аудит в целом. То есть сохраняется лимит не более 10 фотографий на один вопрос, но при этом общее количество не должно превышать 100 фотографий на аудит. В какой-то момент аудитор просто не сможет прикреплять больше фотографий. В интерфейсе желательно отображать количество оставшегося места (количество фотографий, которые можно еще прикрепить), но эта информация должна быть максимально ненавязчивой и не отвлекать от заполнения чек-листа.

3. **Возврат аудита на доработку.** Предусмотрено ли в статусной модели действие администратора «вернуть на доработку», чтобы аудитор мог исправить ответы после отправки? Если да, то какой статус или процесс этому соответствует?

**Ответ:** Нет, такая функция не предусмотрена. Если требуется исправление, аудитор может выехать на новый аудит того же самого лифта, и в системе это будет отображаться как аудит с более свежей датой. Для администратора это будет понятно и не вызовет путаницы.

4. **Работа без сети после выхода из системы.** Должен ли сервис-воркер обеспечивать доступ к последним посещённым страницам и данным аудита, если аудитор вышел из приложения и затем открыл его снова в офлайне, или офлайн-режим предполагает, что пользователь остаётся авторизованным?

**Ответ:** Если пользователь физически нажал кнопку «Выйти из системы» или «Logout», то сайт не должен открываться в офлайн-режиме - пользователь должен снова войти в систему через интернет. Однако если пользователь просто закрыл браузер, не выходя из системы, то при повторном открытии сайта должен подгружаться в том же состоянии, что и был.
